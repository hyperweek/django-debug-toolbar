(function(a,f,c,d){var b,e,h=false;if(!(b=a.jQuery)||c>b.fn.jquery||d(b)){var g=f.createElement("script");g.type="text/javascript";g.src=DEBUG_TOOLBAR_MEDIA_URL+"js/jquery.js";g.onload=g.onreadystatechange=function(){if(!h&&(!(e=this.readyState)||e=="loaded"||e=="complete")){d((b=a.jQuery).noConflict(1),h=true);b(g).remove()}};f.documentElement.childNodes[0].appendChild(g)}})(window,document,"1.3",function(a){a.cookie=function(c,d,b){if(typeof d!="undefined"){b=b||{};if(d===null){d="";b.expires=-1}var e= "";if(b.expires&&(typeof b.expires=="number"||b.expires.toUTCString)){if(typeof b.expires=="number"){e=new Date;e.setTime(e.getTime()+b.expires*24*60*60*1E3)}else e=b.expires;e="; expires="+e.toUTCString()}var h=b.path?"; path="+b.path:"",g=b.domain?"; domain="+b.domain:"";b=b.secure?"; secure":"";document.cookie=[c,"=",encodeURIComponent(d),e,h,g,b].join("")}else{d=null;if(document.cookie&&document.cookie!=""){b=document.cookie.split(";");for(e=0;e<b.length;e++){h=a.trim(b[e]);if(h.substring(0,c.length+ 1)==c+"="){d=decodeURIComponent(h.substring(c.length+1));break}}}return d}};a.ajax_link=function(c){var d=c.split("?");c=d[0];var b=(new Date).getTime();d=d.length>1?"?"+d[1]+"&":"?";d+="dtz="+b;return c+d};a("head").append('<link rel="stylesheet" href="'+DEBUG_TOOLBAR_MEDIA_URL+'css/toolbar.min.css" type="text/css" />');var f={init:function(){var c=null;a("#djDebugPanelList li a").click(function(){if(!this.className)return false;c=a("#djDebug #"+this.className);if(c.is(":visible")){a(document).trigger("close.djDebug"); a(this).parent().removeClass("active")}else{a(".panelContent").hide();c.show();a("#djDebugToolbar li").removeClass("active");a(this).parent().addClass("active")}return false});a("#djDebug a.djDebugClose").click(function(){a(document).trigger("close.djDebug");a("#djDebugToolbar li").removeClass("active");return false});a("#djDebug a.remoteCall").live("click",function(){a("#djDebugWindow").load(this.href,{},function(){a("#djDebugWindow a.djDebugBack").click(function(){a(this).parent().parent().hide(); return false})});a("#djDebugWindow").show();return false});a("#djDebugTemplatePanel a.djTemplateShowContext").live("click",function(){f.toggle_arrow(a(this).children(".toggleArrow"));f.toggle_content(a(this).parent().next());return false});a("#djDebugSQLPanel a.djSQLShowStacktrace").live("click",function(){f.toggle_content(a(".djSQLHideStacktraceDiv",a(this).parents("tr")));return false});a("#djHideToolBarButton").click(function(){f.hide_toolbar(true);return false});a("#djShowToolBarButton").click(function(){f.show_toolbar(); return false});a(document).bind("close.djDebug",function(){if(a("#djDebugWindow").is(":visible"))a("#djDebugWindow").hide();else if(a(".panelContent").is(":visible"))a(".panelContent").hide();else a("#djDebugToolbar").is(":visible")&&f.hide_toolbar(true)});a.cookie("djdt")?f.hide_toolbar(false):f.show_toolbar(false)},toggle_content:function(c){c.is(":visible")?c.hide():c.show()},close:function(){a(document).trigger("close.djDebug");return false},hide_toolbar:function(c){a("#djDebugWindow").hide(); a(".panelContent").hide();a("#djDebugToolbar li").removeClass("active");a("#djDebugToolbar").hide("fast");a("#djDebugToolbarHandle").show();a(document).unbind("keydown.djDebug");c&&a.cookie("djdt","hide",{path:"/",expires:10})},show_toolbar:function(c){a(document).bind("keydown.djDebug",function(d){d.keyCode==27&&f.close()});a("#djDebugToolbarHandle").hide();c?a("#djDebugToolbar").show("fast"):a("#djDebugToolbar").show();a.cookie("djdt",null,{path:"/",expires:-1})},toggle_arrow:function(c){var d= String.fromCharCode(9654),b=String.fromCharCode(9660);c.html(c.html()==d?b:d)}};a(document).ready(function(){f.init()})});
